<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Your Surprise Video üé¨</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

  body{
    margin:0;
    font-family:Poppins, sans-serif;
    background:linear-gradient(135deg,#ffeaf4,#fff5fa);
    display:flex;
    flex-direction:column;
    align-items:center;
    height:100vh;
    overflow:hidden;
  }

  h1{
    margin-top:20px;
    color:#ff69b4;
    font-weight:600;
  }

  .top-caption{
    margin-top:6px;
    margin-bottom:14px;
    font-size:1.2rem;
    color:#555;
    text-align:center;
    min-height:34px;
  }

  .content-box{
    width:90%;
    max-width:900px;
    height:65vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
  }

  .slide{
    display:none;
    width:100%;
    height:100%;
    flex-direction:column;
    align-items:center;
  }
  .slide.active{ display:flex; }

  .slide video{
    max-width:100%;
    max-height:60vh;
    object-fit:contain;
    border-radius:14px;
    box-shadow:0 6px 15px rgba(0,0,0,0.12);
    transition:opacity .5s ease;
    background:#fff1f7;
  }
  .slide:not(.active) video{ opacity:0; }
  .slide.active video{ opacity:1; }

  .controls{
    display:flex;
    gap:12px;
    margin-top:18px;
  }

  .btn{
    background:#ff85c1;
    border:none;
    padding:10px 18px;
    border-radius:10px;
    color:#fff;
    cursor:pointer;
    font-size:1rem;
  }

  .next-cta{
    margin-top:12px;
    background:#ff5fa2;
    border:none;
    padding:12px 20px;
    border-radius:12px;
    color:#fff;
    font-size:1rem;
    cursor:pointer;
  }
</style>
</head>
<body>

<h1>Your Surprise üé¨</h1>

<div class="top-caption" id="captionText">A special moment for you üíó</div>

<div class="content-box">

  <div class="slide active" data-caption="A memory captured forever üíï">
    <video controls>
      <source src="video.mp4" type="video/mp4">
    </video>
  </div>

  <div class="slide" data-caption="Some bonds are accidental. Ours is a blessing ‚ú®">
    <video controls>
      <source src="video2.mp4" type="video/mp4">
    </video>
  </div>

  <div class="slide" data-caption="This one still makes me smile üòÑ">
    <video controls>
      <source src="video3.mp4" type="video/mp4">
    </video>
  </div>

  <div class="slide" data-caption="And this one‚Ä¶ pure happiness üíó">
    <video controls>
      <source src="video4.mp4" type="video/mp4">
    </video>
  </div>

  <div class="slide" data-caption="You are a chapter of my life I could never turn the page from ‚Äî because you are the story itself. üíó">
    <video controls>
      <source src="video5.mp4" type="video/mp4">
    </video>
  </div>

</div>

<div class="controls">
  <button class="btn" id="prev">‚óÄ Prev</button>
  <button class="btn" id="next">Next ‚ñ∂</button>
</div>

<button class="next-cta" id="toEnd">Continue ‚ù§Ô∏è</button>

<audio id="bg" preload="auto" loop src="https://www.bensound.com/bensound-music/bensound-tenderness.mp3"></audio>

<script>
  const bg=document.getElementById('bg');
  const caption=document.getElementById('captionText');

  /* Resume music */
  window.addEventListener('load',()=>{
    if(localStorage.getItem('bg_playing')==='1'){
      bg.currentTime=parseFloat(localStorage.getItem('bg_time')||0);
      bg.play().catch(()=>{});
    }
  });

  window.addEventListener('beforeunload',()=>{
    localStorage.setItem('bg_time',Math.floor(bg.currentTime));
    localStorage.setItem('bg_playing', bg.paused?'0':'1');
  });

  /* Slides */
  const slides=[...document.querySelectorAll('.slide')];
  const videos=[...document.querySelectorAll('video')];
  let index=0;

  function show(){
    slides.forEach((s,i)=>s.classList.toggle('active',i===index));
    caption.textContent = slides[index].dataset.caption;
    videos.forEach(v=>v.pause());
  }

  document.getElementById('next').onclick=()=>{ index=(index+1)%slides.length; show(); };
  document.getElementById('prev').onclick=()=>{ index=(index-1+slides.length)%slides.length; show(); };
  document.getElementById('toEnd').onclick=()=> location.href='ending.html';

  /* Fade music when video plays */
  videos.forEach(v=>{
    v.addEventListener('play',()=>{
      let vol=bg.volume;
      const fade=setInterval(()=>{ vol-=0.05; bg.volume=Math.max(vol,0); if(vol<=0) clearInterval(fade); },100);
    });

    v.addEventListener('pause',()=>{
      let vol=bg.volume;
      const fade=setInterval(()=>{ vol+=0.05; bg.volume=Math.min(vol,1); if(vol>=1) clearInterval(fade); },100);
    });
  });
</script>

</body>
</html>
