<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Final Message</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
body{margin:0;font-family:Poppins;background:linear-gradient(135deg,#fff0f6,#fff7fb);display:flex;align-items:center;justify-content:center;height:100vh}
.card{background:#fff;padding:34px;border-radius:16px;max-width:800px;text-align:center;box-shadow:0 12px 30px rgba(0,0,0,0.08)}
h1{color:#ff69b4}
p{color:#6b6b6b;font-size:1.1rem}
.btn{margin-top:18px;background:#ff5fa2;color:#fff;border:none;padding:12px 16px;border-radius:12px;cursor:pointer}
</style>
</head>
<body>
<div class="card">
<h1>Thatâ€™s a Wrap! ğŸ‰</h1>
<p>â€œYouâ€™ve reached the end of your memoriesâ€¦ but not the end of our bond â¤ï¸
<br>Love, your annoying-but-loving brother ğŸ˜„â€</p>
<button class="btn" id="restart">Restart Journey ğŸ’«</button>
</div>


<audio id="bg" preload="auto" loop></audio>
<canvas id="conf" style="position:fixed;inset:0;pointer-events:none;z-index:5"></canvas>
<script>
const AUDIO_SRC='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3';
const bg=document.getElementById('bg'); bg.src=AUDIO_SRC;
window.addEventListener('load', ()=>{ const t=parseFloat(localStorage.getItem('bg_time')||0); const p=localStorage.getItem('bg_playing')==='1'; if(p){ bg.currentTime=t; bg.play().catch(()=>{}); }});
window.addEventListener('beforeunload', ()=>{ localStorage.setItem('bg_time', Math.floor(bg.currentTime)); localStorage.setItem('bg_playing', bg.paused? '0':'1'); });


// confetti on load
function confetti(){ const c=document.getElementById('conf'); const ctx=c.getContext('2d'); c.width=innerWidth; c.height=innerHeight; const arr=[]; for(let i=0;i<130;i++) arr.push({x:Math.random()*c.width,y:Math.random()*-c.height,r:4+Math.random()*8,vx:(Math.random()-0.5)*2,vy:2+Math.random()*4,c:`hsl(${Math.random()*360} 70% 60%)`,life:120}); function f(){ ctx.clearRect(0,0,c.width,c.height); for(let p of arr){ p.x+=p.vx; p.y+=p.vy; p.life--; ctx.fillStyle=p.c; ctx.beginPath(); ctx.ellipse(p.x,p.y,p.r,p.r,0,0,Math.PI*2); ctx.fill(); } if(arr.some(p=>p.life>0)) requestAnimationFrame(f);} f(); }
window.addEventListener('load', ()=>{ confetti(); });


document.getElementById('restart').addEventListener('click', ()=>{ localStorage.setItem('bg_time', Math.floor(bg.currentTime)); localStorage.setItem('bg_playing','1'); location.href='index.html'; });
</script>
</body>
</html>